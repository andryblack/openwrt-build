From 8dcd8cb92db426784358a00df4d3060a626c5f11 Mon Sep 17 00:00:00 2001
From: andryblack <blackicebox@gmail.com>
Date: Sat, 2 May 2020 17:01:19 +0300
Subject: [PATCH 4/4] [linux] configure clock frequency

Allow configure timer resolution for linux mcu

Signed-off-by: Andrey Kunitsyn <blackicebox@gmail.com>
---
 src/linux/Kconfig | 15 +++++++++++++--
 1 file changed, 13 insertions(+), 2 deletions(-)

diff --git a/src/linux/Kconfig b/src/linux/Kconfig
index 2eee7d4f..4e597aba 100644
--- a/src/linux/Kconfig
+++ b/src/linux/Kconfig
@@ -21,8 +21,19 @@ config BOARD_DIRECTORY
     string
     default "linux"
 
+# Clock freq customization
+config CUSTOM_CLOCK_FREQ
+    bool "Specify a custom clock frequency"
+    depends on LOW_LEVEL_OPTIONS
+
+config CLOCK_FREQ
+     int
+     default 20000000
+
 config CLOCK_FREQ
-    int
-    default 20000000
+    int "Clock frequency (Hz)"
+    depends on CUSTOM_CLOCK_FREQ
+    help
+        Specify custom clock frequency.
 
 endif
-- 
2.24.2 (Apple Git-127)

